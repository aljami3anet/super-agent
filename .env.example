# AI Coder Agent Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application Settings
APP_NAME=AI Coder Agent
APP_VERSION=0.1.0
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true  # Auto-reload for development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://ai_coder_user:ai_coder_password@localhost:5432/ai_coder_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Database Migration
MIGRATION_AUTO_RUN=true
MIGRATION_VERSION_TABLE=alembic_version

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# OpenRouter API Configuration
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Primary Models (comma-separated)
OPENROUTER_MODELS=anthropic/claude-3.5-sonnet,openai/gpt-4-turbo,meta-llama/llama-3.1-8b-instruct

# Fallback Models (comma-separated)
OPENROUTER_FALLBACK_MODELS=openai/gpt-3.5-turbo,anthropic/claude-3-haiku

# Model Configuration
MAX_TOKENS=4096
TEMPERATURE=0.7
TOP_P=0.9
FREQUENCY_PENALTY=0.0
PRESENCE_PENALTY=0.0

# Cost and Budget Management
MAX_COST_PER_REQUEST=0.10  # USD
MAX_COST_PER_DAY=10.00     # USD
COST_TRACKING_ENABLED=true

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Agent Settings
AGENT_TIMEOUT=300  # seconds
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY=5  # seconds

# Agent Orchestration
PLANNER_AGENT_ENABLED=true
CODER_AGENT_ENABLED=true
CRITIC_AGENT_ENABLED=true
TESTER_AGENT_ENABLED=true
SUMMARIZER_AGENT_ENABLED=true

# Conversation Management
MAX_CONVERSATION_LENGTH=50
SUMMARY_COMPRESSION_RATIO=0.8
SUMMARY_MAX_SIZE=8192  # bytes

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Settings
SECRET_KEY=your_secret_key_here_change_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================

# OpenTelemetry Configuration
OTEL_ENABLED=true
OTEL_SERVICE_NAME=ai-coder-agent
OTEL_SERVICE_VERSION=0.1.0
OTEL_ENVIRONMENT=development

# OpenTelemetry Endpoints
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_TRACES_SAMPLER=always_on
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# Logging Configuration
LOG_FORMAT=json  # json, human
LOG_FILE_PATH=logs/ai_coder_agent.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# React Development Server
REACT_DEV_SERVER_URL=http://localhost:5173
REACT_DEV_SERVER_PORT=5173

# WebSocket Configuration
WEBSOCKET_URL=ws://localhost:8000/ws
WEBSOCKET_RECONNECT_ATTEMPTS=5
WEBSOCKET_RECONNECT_DELAY=1000

# =============================================================================
# FILE SYSTEM CONFIGURATION
# =============================================================================

# File System Paths
WORKSPACE_ROOT=/workspace
LOGS_DIR=logs
MEMORY_DIR=memory
SUMMARIES_DIR=summaries
ARTIFACTS_DIR=artifacts
TEMP_DIR=temp

# File Size Limits
MAX_FILE_SIZE=10MB
MAX_PROJECT_SIZE=100MB
MAX_LOG_SIZE=50MB

# =============================================================================
# GIT CONFIGURATION
# =============================================================================

# Git Settings
GIT_AUTHOR_NAME=AI Coder Agent
GIT_AUTHOR_EMAIL=ai-coder-agent@example.com
GIT_COMMIT_MESSAGE_PREFIX=[AI] 
GIT_AUTO_COMMIT=true
GIT_AUTO_PUSH=false

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test Settings
TEST_COVERAGE_THRESHOLD=95
TEST_TIMEOUT=300
TEST_PARALLEL=true
TEST_VERBOSE=true

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Docker Configuration
DOCKER_REGISTRY=your-registry.com
DOCKER_IMAGE_TAG=latest
DOCKER_BUILD_CONTEXT=.

# Kubernetes Configuration (optional)
KUBERNETES_NAMESPACE=ai-coder-agent
KUBERNETES_REPLICAS=3

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Optional: External Monitoring
SENTRY_DSN=your_sentry_dsn_here
DATADOG_API_KEY=your_datadog_api_key_here

# Optional: External Storage
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-coder-agent-artifacts

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Development Settings
AUTO_RELOAD=true
HOT_RELOAD=true
DEBUG_TOOLBAR_ENABLED=true
PROFILING_ENABLED=false

# Code Quality Tools
RUFF_ENABLED=true
MYPY_ENABLED=true
BLACK_ENABLED=true
ISORT_ENABLED=true

# Frontend Development
ESLINT_ENABLED=true
PRETTIER_ENABLED=true
TYPESCRIPT_STRICT=true